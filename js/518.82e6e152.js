"use strict";(self["webpackChunkvueproject"]=self["webpackChunkvueproject"]||[]).push([[518],{5518:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("商品管理")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加商品")]),e("el-dialog",{attrs:{title:"添加商品",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{attrs:{model:t.newProduct,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{model:{value:t.newProduct.name,callback:function(e){t.$set(t.newProduct,"name",e)},expression:"newProduct.name"}})],1),e("el-form-item",{attrs:{label:"商品价格"}},[e("el-input",{model:{value:t.newProduct.price,callback:function(e){t.$set(t.newProduct,"price",t._n(e))},expression:"newProduct.price"}})],1),e("el-form-item",{attrs:{label:"商品描述"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.newProduct.description,callback:function(e){t.$set(t.newProduct,"description",e)},expression:"newProduct.description"}})],1),e("el-form-item",{attrs:{label:"商品图片"}},[e("el-upload",{attrs:{action:"#","auto-upload":!1,"on-change":t.handleImageChange,limit:1,accept:"image/*"}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1),t.newProduct.image?e("div",{staticStyle:{"margin-top":"10px"}},[e("img",{staticStyle:{width:"100px",height:"100px","object-fit":"cover"},attrs:{src:t.newProduct.image}})]):t._e()],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("确 定")])],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.localProducts}},[e("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),e("el-table-column",{attrs:{prop:"price",label:"商品价格"}}),e("el-table-column",{attrs:{prop:"description",label:"商品描述"}}),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.editProduct(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteProduct(a.row)}}},[t._v("删除")])]}}])})],1),e("h2",[t._v("销售统计")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.salesData}},[e("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),e("el-table-column",{attrs:{prop:"quantity",label:"销售数量"}}),e("el-table-column",{attrs:{prop:"revenue",label:"销售额"}})],1),e("el-divider"),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("div",[e("el-statistic",{attrs:{"group-separator":",",precision:2,value:t.totalRevenue,title:"总销售额"}})],1)]),e("el-col",{attrs:{span:6}},[e("div",[e("el-statistic",{attrs:{title:"男女用户比例"}},[e("template",{slot:"formatter"},[t._v(" "+t._s(t.maleRatio)+"% / "+t._s(t.femaleRatio)+"% ")])],2)],1)]),e("el-col",{attrs:{span:6}},[e("div",[e("el-statistic",{attrs:{"group-separator":",",precision:2,value:t.averageOrderValue,title:"平均订单价值"}})],1)]),e("el-col",{attrs:{span:6}},[e("div",[e("el-statistic",{attrs:{value:t.feedbackCount,title:"用户反馈"}},[e("template",{slot:"suffix"},[e("span",{staticClass:"like",on:{click:function(e){t.like=!t.like}}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!!t.like,expression:"!!like"}],staticClass:"el-icon-star-on",staticStyle:{color:"red"}}),e("i",{directives:[{name:"show",rawName:"v-show",value:!t.like,expression:"!like"}],staticClass:"el-icon-star-off"})])])],2)],1)])],1)],1)},l=[],s=(a(4114),{data(){return{like:!0,totalRevenue:0,maleRatio:55,femaleRatio:45,averageOrderValue:0,feedbackCount:120,localProducts:[],salesData:[{name:"华为 Mate 60 Pro",quantity:10,revenue:79990},{name:"苹果 iPhone 15 Pro Max",quantity:5,revenue:54995},{name:"三星 Galaxy S23 Ultra",quantity:8,revenue:79992}],dialogVisible:!1,newProduct:{name:"",price:0,description:"",image:""}}},methods:{handleImageChange(t){const e=new FileReader;e.onload=t=>{this.newProduct.image=t.target.result},e.readAsDataURL(t.raw)},addProduct(){if(!this.newProduct.name||!this.newProduct.price)return void this.$message.error("商品名称和价格不能为空");const t={...this.newProduct,id:Date.now()};this.localProducts.push(t),this.$message.success("商品已添加"),this.dialogVisible=!1,this.$emit("update:products",this.localProducts),this.newProduct={name:"",price:0,description:"",image:""}},editProduct(t){this.$prompt("请输入新的商品名称","编辑商品",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:t.name}).then((({value:e})=>{const a=this.localProducts.findIndex((e=>e.id===t.id));-1!==a&&(this.localProducts[a].name=e,this.$message.success("商品名称已更新"),this.$emit("update:products",this.localProducts))})).catch((()=>{this.$message.info("取消编辑")}))},deleteProduct(t){this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.localProducts=this.localProducts.filter((e=>e.id!==t.id)),this.$message.success("删除成功"),this.$emit("update:products",this.localProducts)})).catch((()=>{this.$message.info("已取消删除")}))},updateSalesData(){this.totalRevenue=this.salesData.reduce(((t,e)=>t+e.revenue),0),this.averageOrderValue=this.totalRevenue/this.salesData.length}}}),o=s,r=a(1656),n=(0,r.A)(o,i,l,!1,null,"6f43d81a",null),c=n.exports}}]);
//# sourceMappingURL=518.82e6e152.js.map